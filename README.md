# Simple Filestorage HTTP API - хранилище файлов с доступом по HTTP на Python

![Analysing the code and run tests](https://github.com/artif467/simple_filestorage_httpapi/workflows/Analysing%20the%20code%20and%20run%20tests/badge.svg?branch=master)

Реализация демона (daemon), который предоставляет HTTP API для загрузки (upload), скачивания (download) и удаления (delete) файлов.

**Upload: Загрузка файла на сервер**
Соответствует POST запросу к серверу. Фоновая служба (демон) получает файл от клиента и возвращает ответ (http response) с хэшом данного файла. Файл сохраняется на сервере, причем в качестве имени файла используется его хэш, в качестве подкаталога первые два символа хэша, а в качестве каталога для хранения всех файлов - каталог store/. В итоге файл с хэшом abcdef12345... будет сохранен в каталог:
`<PROJECT_DIR>/store/ab/abcdef12345...`
Алгоритм хэширования на выбор. В первой реализации будет использован алгоритм MD5 из библиотеки hashlib, ввиду простоты реализации. В последующих версиях возможно изменение, о чем будет указано в Changelog.
В случае успеха, клиенту также поступит ответ 200 - OK. При проблемах, связанных с соединением со стороны сервера, будет передан ответ 500 - Internal server error.

**Download: Скачивание файла**
Запрос на скачивание файла поступает в виде GET-запроса, в параметрах которого присутствует хэш-файла, который требуется получить. Демон ищет данный файл в локальном хранилище и отдает, что соответствует ответу со статусом 200 - OK. Если демон не находит файл, то ответ будет со статусом 404 - Not Found.

**Delete: Удаление файла**
Запрос на удаление DELETE-запрос также содержит среди параметров хэш файла, который демон будет искать в локальном хранилище на сервере, в случае обнаружения, данный файл будет удален и клиент получит ответ со статусом 200 - OK, в противном случае будет возвращен ответ со статусом 404 - Not Found. 

Если клиент пробует отправить запрос с методом, отличным от представленных выше, то он получит ответ со статусом 405 - Method Not Allowed.

Изначально был подготовлен чистый проект для разработки на Python 3.8 с использованием pytest, pylint, flake8, loguru и автопроверками при помощи GitHub Actions, однако планируется добавить typing для аннотаций типов.
